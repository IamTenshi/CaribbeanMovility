---
import Charlist, { type CharlistProps } from './Charlist.astro';
import { Image } from 'astro:assets';

import charlistImage1 from '../../public/images/charlists/charlist-1.png';
import charlistImage2 from '../../public/images/charlists/charlist-2.png';
import charlistImage3 from '../../public/images/charlists/charlist-3.png';
import charlistImage4 from '../../public/images/charlists/charlist-4.png';
import charlistImage5 from '../../public/images/charlists/charlist-5.png';
import charlistImage6 from '../../public/images/charlists/charlist-6.jpg';

import background from '../../public/images/charlists/charlists-bg.png';

const charlists: CharlistProps[] = [
  {
    image: charlistImage1,
    name: 'Celso Marranzini',
    title: 'Ex Vicepresidente de la CODEEE',
    description: 'Economista y empresario de República Dominicana, ex vicepresidente de la Corporación Dominicana de Empresas Eléctricas Estatales y ex presidente del Consejo Nacional de la Empresa Privada.'
  },
  {
    image: charlistImage2,
    name: 'Raúl Moreno',
    title: 'Automotive Industry and Electromobility Consulting & Advisory',
    description :'Consultor con más de 20 años de experiencia internacional en desarrollo de negocios y operaciones en las industrias Automotriz y Electromovilidad, experto en consultoría estratégica y operativa.'
  },
  {
    image: charlistImage3,
    name: 'Arturo Perez de Lucia Gonzalez',
    title: 'General Manager AEDIVE',
    description: 'Director general de AEDIVE y vicepresidente de AVERE, con más de 20 años de experiencia en publicaciones sobre eficiencia energética, energías renovables y movilidad sostenible.'
  },
  {
    image: charlistImage4,
    name: 'Rolando González Búnster',
    title: 'Presidente de InterEnergy Group',
    description: 'Empresario argentino, fundador y director ejecutivo de InterEnergy Group, con operaciones en República Dominicana, Panamá, Chile, Jamaica y Uruguay.'
  },
  {
    image: charlistImage5,
    name: 'Joel Adrián Santos Echavarría',
    title: 'Ministro de Energía y Minas de la República Dominicana',
    description: 'Es licenciado en Economía por la PUCMM y tiene un MBA en Negocios Internacionales de Thunderbird, Arizona, obtenido con una beca Fulbright. Desde 2007, es Vicepresidente Ejecutivo y socio-fundador de Coral Hospitality Corp.'
  },
  {
    image: charlistImage6,
    name: 'Jorge Becerra Jimenez',
    title: 'Consultor Senior Kaizen Institute Colombia',
    description: 'Es Ingeniero Mecánico con una Maestría en Calidad y Gestión Integral de la Universidad Santo Tomás de Colombia. Además, es Técnico en Ingeniería Automotriz y está certificado como Black Belt Lean Seis Sigma. También cuenta con certificaciones en Coaching Ontológico y análisis DISC. Ha participado en cursos en Japón, Francia, Bélgica, Brasil, Chile y Colombia, y tiene un Diplomado en Herramientas Estadísticas. Con más de 25 años de experiencia, ha trabajado en sectores industriales, de servicios y automotrices en varios países, destacándose como consultor, formador y gerente, siempre con un enfoque en la satisfacción del cliente.'
  },
];
---

<section id="charlists" class="relative flex flex-col items-center py-10 text-white sm:px-8 bg-downriver gap-y-10 md:px-16 lg:px-24">
  <Image src={background} alt="patron de ondas" class="absolute inset-0 object-cover w-full h-full opacity-90"/>
  <h2 class="z-10 text-3xl italic font-black text-center">Conoce a nuestros charlistas</h2>
  
  <div class="relative z-10 flex items-center justify-center w-full max-w-7xl">
    <button class="prev-button" aria-label="Anterior">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-10">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
      </svg>      
    </button>
    <ul class="w-full gap-10 carousel">
      {charlists.map(charlist => (
        <Charlist
          image={charlist.image}
          name={charlist.name}
          title={charlist.title}
          description={charlist.description}
        />
      ))}
    </ul>
    <button class="next-button" aria-label="Siguiente">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-10">
        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
      </svg>      
    </button>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const carousel = document.querySelector('.carousel') as HTMLUListElement;
    const prevButton = document.querySelector('.prev-button') as HTMLButtonElement;
    const nextButton = document.querySelector('.next-button') as HTMLButtonElement;
    const scrollAmount = 100;

    if (!carousel || !prevButton || !nextButton) return;

    const scrollCarousel = (direction: number) => {
      carousel.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });
    };

    nextButton.addEventListener('click', () => scrollCarousel(1));
    prevButton.addEventListener('click', () => scrollCarousel(-1));
  });
</script>